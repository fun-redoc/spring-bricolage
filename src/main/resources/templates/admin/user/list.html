<!DOCTYPE html>
<html lang="en"
	  xmlns:th="http://www.thymeleaf.org"
	  layout:decorator="layouts/main" xmlns:layout="http://www.w3.org/1999/xhtml">
<head>
	<title>List Users</title>
</head>
<body>
		
	<div layout:fragment="content">

		<h2>Users</h2>

		<a th:href="@{/admin/users?create}">Add New User</a>

    	<table class="table table-striped">
			<thead> 
				<tr> 
					<th>#</th> 
					<th>Username</th>
					<th>Full Name</th>
					<th>Email</th> 
					<th>Roles</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="user, iterationStatus : ${users}">
					<td th:text="${iterationStatus.count}">1</td>
					<td th:text="${user.name}">Userame</td>
					<td th:text="${user.fullName}">Last Name</td>
					<td th:text="${user.email}">Email Address</td>
					<td ><span th:each="role,iterStatRole : ${user.roles}"
							   th:text="${iterStatRole.last}?${role.name}:${role.name} + ', '">
                        </span>
					</td>
					<td><a th:href="@{/admin/users/{userId}?delete(userId=${user.id})}">Del</a></td>
				</tr>
			</tbody>
		</table>

	</div>
		
</body>
</html>